---

layout: post
title: "actions/markDelete.js"
author: Admin
categories:

---


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

var actions = require('../constants/actions');
var MARK_DELETE = actions.MARK_DELETE;
var getIn = require('../util/immutable-utils').getIn;

/**
 * Action creator to delete a mark. It recursively calls itself on any children
 * of the specified mark.
 *
 * @returns {Function} An async action function
 */

function deleteMark(id) {
  return function(dispatch, getState) {
    var mark = getIn(getState(), 'marks.' + id).toJS();

    if (mark.marks &amp;&amp; mark.marks.length) {
      mark.marks.forEach(function(childId) {
        dispatch(deleteMark(childId));
      });
    }

    dispatch({
      type: MARK_DELETE,
      // ID and Type are needed to clear up all the mark's signals, as those are
      // the values used to create a signal's identifying name.
      markId: mark._id,
      markType: mark.type
    });
  };
}

module.exports = deleteMark;
</code></pre>
        </article>
    </section>




<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Thu May 12 2016 11:01:08 GMT-0700 (PDT) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>



