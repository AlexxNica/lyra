---

layout: post
title: "model/rules/data.js"
author: Admin
categories:

---


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

var getParent = require('../../util/hierarchy').getParent;

/**
 * Parse the data source definitions in the resultant Vega specification.
 * For now, as we do not yet support transforms, we only add an entry to the
 * rule's `map` to identify the data source named "source" as our backing Lyra
 * Dataset primitive.
 *
 * @namespace  rules.data
 * @memberOf rules
 * @param  {Object} parsed An object containing the parsed rule and output Vega spec.
 * @param  {Dataset} from  The Lyra Dataset primitive that backs the current mark.
 * @returns {void}
 */
function data(parsed, from) {
  var map = this._rule._map.data;
  // This is a super-simple map to map b/w names in the vega output
  // VL's data[0].name.source maps to something in lyra e.g.
  map.source = getParent(from)._source._id;
}

module.exports = data;
</code></pre>
        </article>
    </section>




<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Thu May 12 2016 11:01:08 GMT-0700 (PDT) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>



