<div id="groups-list" ng-controller="GroupsListCtrl">
  <ul>
    <li>
      <h3 ng-click="gMdl.editVis = !gMdl.editVis"
          ng-class="{selected:gMdl.editVis}">Visualization</h3>

      <div class="inspector inner" ng-if="gMdl.editVis" ng-controller="EditVisCtrl">
        <ng-include src="'tmpl/inspectors/vis.html'"></ng-include>
      </div>

      <ul ui:sortable="gMdl.sortableOpts" ng:model="groupOrder">
        <li ng-repeat="layerName in groupOrder" ng-controller="GroupCtrl">
          <h3 ng-class="{selected:activeVisual==group,
          expanded:activeLayer==group, contracted:activeLayer!=group}">
            <span vde-edit-name ng-model="group.displayName" ng-click="toggleVisual(group)">{{group.displayName}}</span>
            <a class="close" vde-tooltip="Delete {{group.displayName}}" ng-click="removeVisual('group', group.name)">&minus;</a>
          </h3>

          <ng-include src="'tmpl/inspectors/group.html'"></ng-include>
        </li>
      </ul>
    </li>

    <li>
      <h3 class="addNew" ng-click="addGroup()">+ New Layer</h3>
    </li>
  </ul>
</div>