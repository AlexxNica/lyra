<div class="property">
  <label>{{label}}</label>
  <div class="field" ng-switch on="type">
    <div ng-if="scale || field">
      <vde-binding scale="scale" field="field"></vde-binding>
    </div>

    <div ng-show="!field">
      <span ng-switch-when="text"><input type="text" ng-model="$parent.ngModel" ng-change="onchange()" ng-class="{'scaled-input': scale != undefined, 'disabled-input': item.properties[property].disabled}" /></span>

      <span ng-switch-when="number"><input type="number" ng-model="$parent.ngModel" ng-change="onchange()" min="{{min}}" max="{{max}}" ng-class="{'scaled-input': scale != undefined, 'disabled-input': item.properties[property].disabled}" /></span>

      <span ng-switch-when="range"><input type="range" ng-model="$parent.ngModel" ng-change="onchange()" min="{{min}}" max="{{max}}" step="{{step}}" ng-class="{'scaled-input': scale != undefined, 'disabled-input': item.properties[property].disabled}" /></span>

      <span ng-switch-when="color"><input type="color" ng-model="$parent.ngModel" ng-change="onchange()" ng-class="{'scaled-input': scale != undefined, 'disabled-input': item.properties[property].disabled}" /></span>

      <span ng-switch-when="checkbox"><input type="checkbox" ng-model="$parent.ngModel" ng-change="onchange()" /></span>

      <span ng-switch-when="select"><select ng-change="onchange()" ng-model="$parent.ngModel" ng-options="opt for opt in $parent.options" ng-class="{'scaled-input': scale != undefined, 'disabled-input': item.properties[property].disabled}"></select></span>

      <span ng-switch-when="radio"><label ng-repeat="opt in $parent.options"><input type="radio" ng-model="$parent.$parent.ngModel" value="{{opt}}" /> {{opt}}</label> </span>

      <span ng-switch-when="field" class="schema-target">Drop a column here.</span>

      <span ng-switch-when="font">
        <input type="number" ng-model="$parent.ngModel.fontSize.value" ng-change="onchange()" class="fontSize" />

        <select ng-model="$parent.ngModel.font.value" ng-change="onchange()" class="fontFamily">
          <option>Helvetica</option>
          <option>Verdana</option>
          <option>Georgia</option>
          <option>Palatino</option>
          <option>Garamond</option>
          <option>Trebuchet MS</option>
        </select>
      </span>

      <div class="expr-container" ng-switch-when="expr" ng-model="$parent.ngModel" vde-expr></div>
    </div>

    <div ng-transclude="1"></div>

    <a class="unbind" ng-if="scale || field" ng-click="unbind(property)">Unbind</a>
  </div>
</div>